<html window-icon="images/rx.ico" window-frame="solid">
<head>
<title>Minimalistic Sciter demo</title>
<style>
@import url(general.css);

html, body {
  width: 400px;
  height: 500px;
  background: none;
  background-image: none;
  background-color: #06090E;
  overflow: none;
  margin: 0px;
  padding: 0px;
}
</style>
<script type="text/tiscript">
  function self.ready() {
    var (sx,sy,sw,sh) = View.screenBox(0,#workarea,#rectw);
    view.move( sx + (sw - 400) / 2, sy + (sh - 185) / 2,400,185,true);
  }

  function setPlayername() {
    if ($(input|text#username).value != "") {
      view.set_playername($(input|text#username).value);
      view.set_irc_nick($(input|text#ircsafe).value);
      view.close();
    }
  }

  self.on("click","[onclick]",function(evt) {
    stdout.println("onclick");
    return eval.call(this, this.attributes["onclick"] );
  });

  self.on("keypress","[enter]",function(evt) {
    if ( evt.keyCode != 13 && evt.keyCode != Event.VK_RETURN ) return;
    eval.call(this, this.attributes["enter"]);
  });
</script>
</head>
<body>
<div #header role="window-caption">
  <h1>Welcome back Commander!</h1>
</div>
<div style="flow:vertical; width: *;">
  <input|text#username enter="setPlayername();" maxlength="30">
  <button#submit onclick="setPlayername();">SUBMIT</button>
</div>

</body>
</html>
